# å°ç¨‹åºç¼–è¯‘é—®é¢˜ä¿®å¤æ€»ç»“

## é—®é¢˜
çœŸæœºè°ƒè¯•æŠ¥é”™ï¼š`Error: ç³»ç»Ÿé”™è¯¯ï¼Œé”™è¯¯ç ï¼š800059, entry file app.js not found`

## æ ¹æœ¬åŸå› 
WeChat å°ç¨‹åºéœ€è¦ JavaScript å…¥å£æ–‡ä»¶ (`app.js`)ï¼Œä½†é¡¹ç›®æ–‡ä»¶éƒ½æ˜¯ TypeScript (`app.ts`)ã€‚

## è§£å†³æ–¹æ¡ˆ

### âœ… å·²å®Œæˆçš„é…ç½®

#### 1. ä¿®æ”¹ tsconfig.json
- å°†ç¼–è¯‘ç›®æ ‡æ”¹ä¸º CommonJS æ¨¡å—ç³»ç»Ÿï¼ˆWeChat å°ç¨‹åºæ ‡å‡†ï¼‰
- è¾“å‡ºç›®å½•è®¾ç½®ä¸º `./`ï¼ˆåŒçº§ç›®å½•ç”Ÿæˆ `.js` æ–‡ä»¶ï¼‰
- å…³é—­ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼ˆ`strict: false`ï¼‰

#### 2. åˆ›å»º global.d.ts
å®šä¹‰ WeChat å°ç¨‹åºçš„å…¨å±€ç±»å‹ï¼š
```typescript
declare global {
  const wx: any;
  const Page: any;
  const App: any;
  
  function getApp(): any;
  function getCurrentPages(): any[];
}
```

è¿™æ · TypeScript ç¼–è¯‘å™¨å°±èƒ½è¯†åˆ«å°ç¨‹åº APIã€‚

#### 3. æ›´æ–° package.json
æ·»åŠ ç¼–è¯‘è„šæœ¬ï¼š
```json
{
  "scripts": {
    "build": "tsc",
    "dev": "tsc --watch"
  }
}
```

### ğŸ“¦ ç¼–è¯‘ç»“æœ

æˆåŠŸç”Ÿæˆæ‰€æœ‰å¿…éœ€çš„ JavaScript æ–‡ä»¶ï¼š
```
âœ… app.js
âœ… pages/index/index.js
âœ… pages/list/list.js
âœ… pages/detail/detail.js
âœ… pages/report/report.js
âœ… services/nativeMapService.js
âœ… services/storageService.js
```

## ä½¿ç”¨æ–¹æ³•

### é¦–æ¬¡è¿è¡Œ
```bash
npm run build
```

### å¼€å‘æ—¶ï¼ˆæ¨èï¼‰
```bash
npm run dev
```
è¿™ä¼šç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶è‡ªåŠ¨ç¼–è¯‘ã€‚

### åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­
1. ç¡®ä¿é¡¹ç›®æ ¹ç›®å½•ä¸­æœ‰ `app.js` æ–‡ä»¶
2. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
3. çœŸæœºè°ƒè¯•æˆ–é¢„è§ˆåº”è¯¥æ­£å¸¸å·¥ä½œäº†ï¼

## æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `global.d.ts` | WeChat å°ç¨‹åºå…¨å±€ç±»å‹å®šä¹‰ |
| `tsconfig.json` | TypeScript ç¼–è¯‘é…ç½® |
| `package.json` | npm è„šæœ¬å’Œä¾èµ– |
| `BUILD_GUIDE.md` | è¯¦ç»†ç¼–è¯‘æŒ‡å— |
| `app.js` | ç¼–è¯‘ç”Ÿæˆçš„å…¥å£æ–‡ä»¶ |
| `pages/*/*.js` | ç¼–è¯‘ç”Ÿæˆçš„é¡µé¢æ–‡ä»¶ |
| `services/*.js` | ç¼–è¯‘ç”Ÿæˆçš„æœåŠ¡æ–‡ä»¶ |

## åç»­æ­¥éª¤

1. å¦‚æœä¿®æ”¹äº† `.ts` æ–‡ä»¶ï¼Œè¿è¡Œ `npm run build` é‡æ–°ç¼–è¯‘
2. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»ã€Œç¼–è¯‘ã€åˆ·æ–°
3. åœ¨å¾®ä¿¡ä¸­çœŸæœºè°ƒè¯•æˆ–é¢„è§ˆ

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘ï¼Ÿ**
A: WeChat å°ç¨‹åºè¿è¡Œç¯å¢ƒä¸æ”¯æŒ TypeScriptï¼Œéœ€è¦ç¼–è¯‘ä¸º JavaScriptã€‚

**Q: ç”Ÿæˆçš„ .js æ–‡ä»¶å¯ä»¥åˆ é™¤å—ï¼Ÿ**
A: ä¸å¯ä»¥ï¼Œè¿™äº›æ–‡ä»¶æ˜¯å°ç¨‹åºè¿è¡Œå¿…éœ€çš„ã€‚

**Q: å¦‚ä½•ç¦ç”¨ç±»å‹æ£€æŸ¥ï¼ˆå¦‚æœå‡ºç°ç¼–è¯‘é”™è¯¯ï¼‰ï¼Ÿ**
A: åœ¨ `tsconfig.json` ä¸­æ”¹ä¸º `"strict": false`ï¼ˆå·²é»˜è®¤å…³é—­ï¼‰ã€‚

---

é—®é¢˜å·²è§£å†³ï¼ç°åœ¨å¯ä»¥åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ­£å¸¸è°ƒè¯•å°ç¨‹åºäº†ã€‚ğŸ‰
