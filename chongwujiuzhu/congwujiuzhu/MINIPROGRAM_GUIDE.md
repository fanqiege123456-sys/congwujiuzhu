# å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬ - è…¾è®¯åœ°å›¾é›†æˆæŒ‡å—

## é¡¹ç›®å·²è½¬æ¢ä¸ºå¾®ä¿¡å°ç¨‹åºï¼

è¿™æ˜¯ä¸€ä¸ªåŸºäºå¾®ä¿¡å°ç¨‹åºæ¡†æ¶çš„æµæµªèŒå® æ•‘åŠ©åº”ç”¨ï¼Œä½¿ç”¨ **è…¾è®¯åœ°å›¾** ä½œä¸ºåœ°å›¾æºã€‚

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ pages/                    # å°ç¨‹åºé¡µé¢
â”‚   â”œâ”€â”€ index/               # åœ°å›¾é¡µé¢ï¼ˆä¸»é¡µï¼‰
â”‚   â”œâ”€â”€ list/                # åˆ—è¡¨é¡µé¢
â”‚   â”œâ”€â”€ detail/              # è¯¦æƒ…é¡µé¢
â”‚   â””â”€â”€ report/              # å‘å¸ƒä¿¡æ¯é¡µé¢
â”œâ”€â”€ services/                # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ storageService.ts    # æ•°æ®å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ geminiService.ts     # AI åˆ†ææœåŠ¡ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ tencentMapService.ts # è…¾è®¯åœ°å›¾æœåŠ¡
â”œâ”€â”€ app.ts                   # åº”ç”¨å…¨å±€è„šæœ¬
â”œâ”€â”€ app.json                 # åº”ç”¨é…ç½®
â”œâ”€â”€ app.wxss                 # åº”ç”¨å…¨å±€æ ·å¼
â””â”€â”€ types.ts                 # TypeScript ç±»å‹å®šä¹‰
```

## è…¾è®¯åœ°å›¾é›†æˆæ­¥éª¤

### 1. ç”³è¯·è…¾è®¯åœ°å›¾ Key

1. è®¿é—® [è…¾è®¯åœ°å›¾å®˜æ–¹å¹³å°](https://lbs.qq.com/)
2. æ³¨å†Œå¼€å‘è€…è´¦æˆ·
3. åˆ›å»ºæ–°çš„åº”ç”¨ï¼Œè·å– **Web/å°ç¨‹åº Key**
4. åœ¨å°ç¨‹åºç®¡ç†åå°é…ç½®æœåŠ¡ç«¯åˆæ³•åŸŸåï¼š`apis.map.qq.com`

### 2. é…ç½®å°ç¨‹åº

åœ¨ `app.json` ä¸­å·²åŒ…å«æƒé™é…ç½®ï¼š
```json
"permission": {
  "scope.userLocation": {
    "desc": "è·å–æ‚¨çš„ä½ç½®ç”¨äºæ˜¾ç¤ºåœ°å›¾å’ŒæŸ¥æ‰¾é™„è¿‘çš„æ•‘åŠ©ä¿¡æ¯"
  }
}
```

### 3. æ›´æ–° API Key

ç¼–è¾‘ `services/tencentMapService.ts`ï¼Œæ›¿æ¢ï¼š
```typescript
apiKey: 'YOUR_TENCENT_MAP_API_KEY_HERE'
```

ä¸ºæ‚¨çš„å®é™… Keyï¼š
```typescript
apiKey: 'YOUR_ACTUAL_KEY_12345'
```

### 4. é…ç½®æœåŠ¡ç«¯åˆæ³•åŸŸå

åœ¨ WeChat å°ç¨‹åºç®¡ç†åå°ï¼š
- **å¼€å‘ > å¼€å‘è®¾ç½® > æœåŠ¡å™¨åŸŸå**
- **åˆæ³•åŸŸå** æ·»åŠ ï¼š`https://apis.map.qq.com`

## åŠŸèƒ½è¯´æ˜

### ğŸ“ åœ°å›¾é¡µé¢ (pages/index/)
- æ˜¾ç¤ºç”¨æˆ·å½“å‰ä½ç½®ï¼ˆè“è‰²æ ‡è®°ï¼‰
- æ˜¾ç¤ºé™„è¿‘çš„æ•‘åŠ©ä¿¡æ¯ï¼ˆçº¢è‰²/ç»¿è‰²æ ‡è®°ï¼‰
- æ”¯æŒåˆ·æ–°å®šä½
- ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¦æƒ…

### ğŸ“‹ åˆ—è¡¨é¡µé¢ (pages/list/)
- æ˜¾ç¤ºé™„è¿‘æ•‘åŠ©ä¿¡æ¯åˆ—è¡¨
- æŒ‰æ•‘åŠ©çŠ¶æ€å’Œæ—¶é—´æ’åº
- ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
- å¿«é€Ÿå‘å¸ƒæ–°ä¿¡æ¯

### ğŸ“ è¯¦æƒ…é¡µé¢ (pages/detail/)
- æŸ¥çœ‹æ•‘åŠ©ä¿¡æ¯è¯¦ç»†å†…å®¹
- æ›´æ–°æ•‘åŠ©è¿›å±•
- ç¤¾åŒºè®¤è¯å’Œå®¡æ ¸
- AI æ™ºèƒ½å®¡æ ¸ï¼ˆé›†æˆ Gemini APIï¼‰

### â• å‘å¸ƒé¡µé¢ (pages/report/)
- ä¸Šä¼ ç°åœºç…§ç‰‡
- ä¸Šä¼ è§†é¢‘è®°å½•ï¼ˆå¯é€‰ï¼‰
- å¡«å†™è¯¦ç»†æè¿°
- AI è‡ªåŠ¨åˆ†æ

## ä½¿ç”¨è…¾è®¯åœ°å›¾ API

### è·å–åœ°å€ï¼ˆé€†åœ°ç†ç¼–ç ï¼‰
```typescript
import { getAddressFromCoordinates } from './services/tencentMapService';

const address = await getAddressFromCoordinates(39.9042, 116.4074);
console.log(address); // è¾“å‡ºï¼šåœ°å€å­—ç¬¦ä¸²
```

### æœç´¢åœ°ç‚¹
```typescript
import { searchPlace } from './services/tencentMapService';

const results = await searchPlace('æ•‘åŠ©ç«™', 'åŒ—äº¬');
console.log(results); // è¾“å‡ºï¼šæœç´¢ç»“æœæ•°ç»„
```

### æ‰“å¼€åœ°å›¾å¯¼èˆª
```typescript
import { openMapNavigation } from './services/tencentMapService';

openMapNavigation(39.9042, 116.4074, 'åŠ¨ç‰©æ•‘åŠ©ç«™');
```

## å¼€å‘ä¸è°ƒè¯•

### ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·
1. ä¸‹è½½ [å¾®ä¿¡å¼€å‘è€…å·¥å…·](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. ç”¨å¼€å‘è€…å·¥å…·æ‰“å¼€æœ¬é¡¹ç›®æ–‡ä»¶å¤¹
3. åœ¨å·¦ä¾§èœå•ä¸­é…ç½®é¡¹ç›® AppID
4. ç‚¹å‡»"é¢„è§ˆ"æˆ–"çœŸæœºè°ƒè¯•"

### é¡¹ç›®é…ç½®
ç¼–è¾‘ `project.config.json`ï¼Œå°† `appid` æ›¿æ¢ä¸ºæ‚¨çš„å°ç¨‹åº IDï¼š
```json
{
  "appid": "YOUR_APPID_HERE"
}
```

## æ•°æ®å­˜å‚¨

- **å¾®ä¿¡å°ç¨‹åº** ä½¿ç”¨ `wx.setStorageSync()` å’Œ `wx.getStorageSync()` è¿›è¡Œæœ¬åœ°å­˜å‚¨
- æ‰€æœ‰å® ç‰©ä¿¡æ¯å­˜å‚¨åœ¨è®¾å¤‡æœ¬åœ°
- æ”¯æŒå¯¼å‡º/å¯¼å…¥æ•°æ®

## æ³¨æ„äº‹é¡¹

### åœ°å›¾æƒé™
- é¦–æ¬¡ä½¿ç”¨æ—¶ä¼šè¯·æ±‚ä½ç½®æƒé™
- ç”¨æˆ·å¯åœ¨å¾®ä¿¡è®¾ç½®ä¸­ä¿®æ”¹æƒé™

### API è°ƒç”¨é™åˆ¶
- è…¾è®¯åœ°å›¾ API æœ‰å…è´¹é…é¢é™åˆ¶
- å•†ç”¨é¡¹ç›®è¯·è”ç³»è…¾è®¯åœ°å›¾ç”³è¯·é…é¢æå‡

### å›¾ç‰‡å­˜å‚¨
- å»ºè®®ä¸Šä¼ å›¾ç‰‡æ—¶å‹ç¼©å¤§å°
- å¯é›†æˆäº‘å­˜å‚¨æœåŠ¡ï¼ˆå¾®ä¿¡äº‘å¼€å‘ã€ä¸ƒç‰›ç­‰ï¼‰

## æ‰©å±•å»ºè®®

### 1. äº‘å­˜å‚¨é›†æˆ
```typescript
// ä½¿ç”¨å¾®ä¿¡äº‘å¼€å‘
wx.cloud.uploadFile({
  cloudPath: 'pet-images/image.jpg',
  filePath: tempFilePath
});
```

### 2. åç«¯ API é›†æˆ
```typescript
// è¿æ¥çœŸå®çš„åç«¯æœåŠ¡
wx.request({
  url: 'https://your-backend.com/api/pets',
  method: 'POST',
  data: petData
});
```

### 3. åœ¨çº¿æ•°æ®åŒæ­¥
å®ç°ç”¨æˆ·è´¦æˆ·ç³»ç»Ÿï¼Œæ”¯æŒäº‘ç«¯æ•°æ®åŒæ­¥

### 4. åˆ†äº«åŠŸèƒ½
```typescript
wx.shareAppMessage({
  title: 'æµæµªèŒå® æ•‘åŠ©',
  path: '/pages/detail/detail?petId=xxx'
});
```

## è®¸å¯è¯

MIT License

## æ”¯æŒä¸åé¦ˆ

æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issueã€‚
